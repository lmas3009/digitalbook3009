<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/studentyear.css">
    <title>First Year</title>
</head>
<body>
    
  <div id="butt">
    <button onclick="getdeta()">Get Details</button>
  </div>
    
    <div class = "table">
        <table id="table1">
            <thead>
                <tr>
                    <td>Year</td>
                    <td>Semester</td>
                    <td>Course</td>
                    <td>name</td>
                    <td>View</td>
                </tr>
            </thead>
            <tbody id = "table_body">
            </tbody>
        </table>
    </div>
    <script src="https://www.gstatic.com/firebasejs/7.8.0/firebase.js"></script>
    <script>
      // Initialize Firebase
      
    
      var firebaseConfig = {
    apiKey: "AIzaSyDzRIhanylfxMS_EmXBaLaMmEmTW76v1kA",
    authDomain: "digitalbook-6c930.firebaseapp.com",
    databaseURL: "https://digitalbook-6c930.firebaseio.com",
    projectId: "digitalbook-6c930",
    storageBucket: "digitalbook-6c930.appspot.com",
    messagingSenderId: "739535333881",
    appId: "1:739535333881:web:0d526f4ce06bae4581b528"
  };
  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  
  //document.getElementById("table1").style.display = "none";
  
  
 (()=>{
   
  //document.getElementById("table1").style.display = "block";
  //document.getElementById("butt").style.display = "none";
    var name;
    var id,id1,id2,id3,id4;
    firebase.auth().onAuthStateChanged(user => {
      var ref = firebase.database().ref(user.uid);
      ref.on("value",snap=>
      snap.forEach(snap=>{
        name = snap.child("collegename").val();
        var root = firebase.database().ref(name);
  
    var x = document.createElement("IMG");
    x.setAttribute("src", "images/image.png");
    root.on("value", function(snapshot) {
      snapshot.forEach(function(data) {
      var rot = firebase.database().ref(name).child(data.key);
      rot.on("value",snap=>{
        snap.forEach(snap=>{
          var i = snap.key;
          var roto = firebase.database().ref(name).child("First").child(i);
      roto.on("value",snap=>{
        snap.forEach(snap=>{
          var name = snap.key;
           id = snap.child("Year").val();
           id1 = snap.child("Semester").val();
           id2 = snap.child("Course").val();
           id3 = name;
           id4 = snap.child("url").val();
      table = document.getElementById("table1");
        for(var i=0;i<1;i++)
        {
          var newRow = table.insertRow(table.length);
          for(var j=0;j<1;j++)
          {
            var cell = newRow.insertCell(j);
            //cell3.innerHTML = 'sometext'+'<button id=\"a\">word</button> othertext';
           // cell.innerHTML = "Cols: <input type='text' id='colsTextArea' maxlength='3' /><br>Rows: <input type='text' id='rowsTextArea' maxlength='2' /><br><button type='button' onclick='updateTextArea(window.open(\"http://www.nowhere.com\"););' >Add</button><br>";
           //cell.innerHTML = "<input type=button onclick=" +  go2(id4); + " value='Click Me'><BR>";
            cell.innerHTML="<button ><img src=\"https://amritfoundationofindia.in/wp-content/uploads/2018/08/download-logo.png\" width=\"50px\" height=\"50px\" align=\"middle\"></button>";
           var cell1 = newRow.insertCell(j);
           cell1.innerHTML=id3;
           var cell2 = newRow.insertCell(j);
           cell2.innerHTML=id2;
           var cell3 = newRow.insertCell(j);
           cell3.innerHTML=id1;
           var cell4 = newRow.insertCell(j);
           cell4.innerHTML=id;
          }
        }
      })
      })
        })
      })
       })
         })
      })
    );
    });
  })
  ();
  function updateTextArea(){
  
  }
  
  function go2(val){
    document.write(val);
  }
  
   
    </script>
        
</body>
</html>